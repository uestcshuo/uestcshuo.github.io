<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>WANGSHUO'S BLOG</title>
  <meta name="description" content="the blog of wangshuo.">
  <meta name="keywords" content="blog, wangshuo, jekyll">
  <meta name="author" content="wangshuo">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="canonical" href="http:////uestcshuo.github.io/index.html">

  <link rel="stylesheet" href="/style/css/bootstrap.min.css" media="all">
  <link rel="stylesheet" href="/style/css/style.css" media="all">
  <link rel="stylesheet" href="/style/css/pygments.css" media="all">
  <link rel="stylesheet" href="/style/css/font-awesome.css" media="all">

  <!-- atom & rss feed -->
  <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="WANGSHUO'S BLOG RSS Feed">
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="WANGSHUO'S BLOG ATOM Feed">
</head>


  <body>
    <div class="container">
      <!--[if lt IE 9]>
<div class="alert alert-warning">
  <p>Your Internet Explorer is not supported. Please upgrade your Internet Explorer to version 9+, or use latest <a href="http://www.google.com/chrome/" target="_blank" class="alert-link">Google chrome</a>、<a href="http://www.mozilla.org/firefox/" target="_blank" class="alert-link">Mozilla Firefox</a>.</p>
  <p>If you are using IE 9 or later, make sure you <a href="http://windows.microsoft.com/en-us/internet-explorer/use-compatibility-view#ie=ie-8" target="_blank" class="alert-link">turn off "Compatibility view"</a>.</p>
</div>
<![endif]-->
<header class="header">
  <div class="title"><a title="WANGSHUO'S BLOG" href="/">WANGSHUO'S BLOG</a></div>
  <ul class="nav navbar-nav navbar-right visible-lg visible-md">
    <li>
    <form id="search-form" class="form-group has-success visible-lg" role="form">
      <input type="text" class="form-control input-sm" placeholder="Search" id="query">
    </form>
    </li>
    <li><a href="/archive.html" title="Archive"><span class='fa fa-archive fa-2x'></span></a></li>
    <li><a href="/categories.html" title="Categories"><span class='fa fa-navicon fa-2x'></span></a></li>
    <li><a href="/tags.html" title="Tags"><span class='fa fa-tags fa-2x'></span></a></li>
    <li><a href="/about.html" title="About"><span class='fa fa-user fa-2x'></span></a></li>
    
    <li><a href="https://github.com/uestcshuo" target="_blank" title="Github"><span class='fa fa-github fa-2x'></span></a></li>
    
    
    
    
    

    <li><a href="/rss.xml" target="_blank" title="RSS"><span class='fa fa-rss fa-2x'></span></a></li>
  </ul>
</header>


      <article class="wrapper">
      <div class="raw">
        <div id="search-loader" style="display:none;text-align:center">
          <img src="/style/img/loading.gif">
        </div>
        <div class="col-md-9">
  
  <h3><a href="/%E5%B7%A5%E5%85%B7/2014-08/sublime3.html">Sublime3中文输入法问题</a></h3>
  
  <h4>环境</h4>

<ul>
<li>ubuntu14.04</li>
<li>搜狗输入法 for linux</li>
<li>Sublime text 3</li>
</ul>

<h4>步骤一</h4>

<p>保存下面代码到<code>sublime_imfix.c</code></p>
<div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;gtk/gtkimcontext.h&gt;</span>
<span class="kt">void</span> <span class="nf">gtk_im_context_set_client_window</span> <span class="p">(</span><span class="n">GtkIMContext</span> <span class="o">*</span><span class="n">context</span><span class="p">,</span> <span class="n">GdkWindow</span> <span class="o">*</span><span class="n">window</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">GtkIMContextClass</span> <span class="o">*</span><span class="n">klass</span><span class="p">;</span>
    <span class="n">g_return_if_fail</span> <span class="p">(</span><span class="n">GTK_IS_IM_CONTEXT</span> <span class="p">(</span><span class="n">context</span><span class="p">));</span>
    <span class="n">klass</span> <span class="o">=</span> <span class="n">GTK_IM_CONTEXT_GET_CLASS</span> <span class="p">(</span><span class="n">context</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">klass</span><span class="o">-&gt;</span><span class="n">set_client_window</span><span class="p">)</span>
        <span class="n">klass</span><span class="o">-&gt;</span><span class="n">set_client_window</span> <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">window</span><span class="p">);</span>
    <span class="n">g_object_set_data</span><span class="p">(</span><span class="n">G_OBJECT</span><span class="p">(</span><span class="n">context</span><span class="p">),</span><span class="s">&quot;window&quot;</span><span class="p">,</span><span class="n">window</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">GDK_IS_WINDOW</span> <span class="p">(</span><span class="n">window</span><span class="p">))</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="n">gdk_window_get_width</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">height</span> <span class="o">=</span> <span class="n">gdk_window_get_height</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">width</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">height</span> <span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">gtk_im_context_focus_in</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

  
  

  <!-- Pagination links -->
  <div class="pull-right">
    
    <span><a class="btn btn-primary btn-sm disabled" href="/">Home</a></span>
    <span><a class="btn btn-primary btn-sm disabled">&laquo; Prev</a></span>
    
    <span><a class="btn btn-primary btn-sm disabled">Page: 1 of 1</a></span>
    
    <span><a class="btn btn-primary btn-sm disabled">Next &raquo;</a></span>
    <span><a class="btn btn-primary btn-sm disabled">Last</a></span>
    
  </div>
</div>
<div class="col-md-3 visible-lg visible-md">
  


<section>
  <h3>Categories</h3>
  <ul>
    
    
    <li><a href="/categories.html#%E5%B7%A5%E5%85%B7">工具</a></li>
    
  </ul>
</section>

  <section>
  <h3>Recently Posts</h3>
  <ul>
    
    <li><a href="/%E5%B7%A5%E5%85%B7/2014-08/sublime3.html" title="Sublime3中文输入法问题">Sublime3中文输入法问题</a></li>
    
  </ul>
</section>

  

  
<section>
<h3>Links</h3>
<ul>
  
  <li><a href="//uestcshuo.github.io/" title="Wangshuo's Space">Wangshuo's Space</a></li>
  
</ul>
</section>


</div>
<div class="clearfix"></div>

      </div>
      </article>

      <footer class="footer text-center">
  <p>&copy; 2014 <a href="" target="_blank" title="the blog of wangshuo.">wangshuo</a>. with Help from <a href="//jekyllrb.com/" target="_blank" title="Transform your plain text into static websites and blogs.">Jekyll</a> and <a href="//getbootstrap.com/" target="_blank" title="Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.">Bootstrap</a></p>
</footer>

    </div>

    <script src="/style/js/jquery.min.js"></script>
    <script src="/style/js/bootstrap.min.js"></script>
    <script src="/style/js/webcore.js"></script>

    

    
  </body>
</html>
